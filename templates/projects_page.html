<!doctype html>
<html>
  <head>
    <title>My Personal Projects Page</title>
    <meta name="description" content="Projects page">
    <meta name="keywords" content="html tutorial template">
    <!-- default favicon -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}?">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/project_style.css') }}">
  </head>
  <body>

    <a href="https://jacobpark1080.pythonanywhere.com/" style="display:inline-block;width:25%;height:25%">
    <img class="pusheen_img" src="{{ url_for('static', filename='images/home_pusheen.jpg') }}" alt='Pusheen the cat'>
    </a>

    <h1>Personal Projects</h1>

    <p>Collection of my notebooks and projects from the coding bootcamp,
    as well as any other personal items I have been working on.</p>

    <ol >
      <li style="border-style: solid; color: white; padding-bottom: 37px">
        <h1>TODO CRUD APP</h1>
        <div id="error_add" style="display: none">
          <p>Couldn't add that item because it is already in the database</p>
        </div>
        <div id="error_update" style="display: none">
          <p>Couldn't update that item because it is not in the database</p>
        </div>
        <div id="error_delete" style="display: none">
          <p>Couldn't remove that item because it is not in the database</p>
        </div>
        <script>
          const url = window.location.search;
          if (url!="") {
            const urlParams = new URLSearchParams(url);
            const urlParamsMessage = urlParams.get('message');
            console.log(urlParamsMessage);
            if (urlParamsMessage=="add_error"){
              document.getElementById("error_add").style.display = "block";
            } else if (urlParamsMessage=="update_error") {
              document.getElementById("error_update").style.display = "block";
            } else if (urlParamsMessage=="delete_error") {
              document.getElementById("error_delete").style.display = "block";
            }
          }
        </script>

        <!--
        <div>
          <button id="myButton" class="button" type="button" onclick="showSchedule()">Click here to check your TODO schedule</button>
        </div>
        <script>

          function showSchedule() {
            var x = document.getElementById("mySchedule");
            var y = document.getElementById("myButton");
            if (x.style.display === "none") {
              x.style.display = "block";
              y.style.display = "none"
            } else {
              x.style.display = "none";
            }
          }
        </script> -->

        <div id="mySchedule" >
          <div>
            <table class="table">
              <tr>
                <th>DATE</th><th>ITEM</th><th>STATUS</th>
              </tr>
              {% for data in data %}
                <tr>
                  <td>{{data[2]}}</td><td>{{data[0]}}</td><td>{{data[1]}}</td>
                </tr>
              {% endfor %}
            </table>
          </div>

          <p>What would you like to do to your schedule?</p>

          <div class="container">
            <button class="button" type="button" onclick="addItem()">Add Item</button>
            <button class="button" type="button" onclick="updateItem()">Update Item</button>
            <button class="button" type="button" onclick="removeItem()">Remove Item</button>
          </div>
          <br><br>
          <script>
            function addItem() {
              var x = document.getElementById("myAdd");
              var y = document.getElementById("myUpdate");
              var z = document.getElementById("myDelete");
              x.style.display = "block";
              y.style.display = "none";
              z.style.display = "none";
            }
            function updateItem() {
              var x = document.getElementById("myAdd");
              var y = document.getElementById("myUpdate");
              var z = document.getElementById("myDelete");
              x.style.display = "none";
              y.style.display = "block";
              z.style.display = "none";
            }
            function removeItem() {
              var x = document.getElementById("myAdd");
              var y = document.getElementById("myUpdate");
              var z = document.getElementById("myDelete");
              x.style.display = "none";
              y.style.display = "none";
              z.style.display = "block";
            }
          </script>

          <div id="myAdd" class="container" style="display: none">
            <!-- Cannot add an Item entry named "item" or Status entry named "status". Build validation -->
            <form action="{{ url_for('add_item') }}" method="POST" onsubmit="return validateValues()">
              <label for="item">Add a new item: </label>
              <input type="text" id="item" name="item" value="Item">
              <input type="text" id="status" name="status" value="Status">
              <input class="button" type="submit" value="Submit">
            </form>
          </div>
          <div id="myUpdate" class="container" style="display: none">
            <form action="{{ url_for('update_status') }}" method="POST">
              <label for="item">Update an existing item: </label>
              <input type="text" id="item" name="item" value="Item">
              <input type="text" id="status" name="status" value="Status">
              <input class="button" type="submit" value="Submit">
            </form>
          </div>
          <div id="myDelete" class="container" style="display: none">
            <form action="{{ url_for('delete_item') }}" method="POST">
              <label for="item">Remove a completed item: </label>
              <input type="text" id="item" name="item" value="Item">
              <input class="button" type="submit" value="Submit">
            </form>
          </div>
        </div>
      </li>
      <li>
        <p>The Error is {{err}}</p>
      </li>
    </ol>
</body>

</html>
